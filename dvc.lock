schema: '2.0'
stages:
  download:
    cmd: python download.py
    deps:
    - path: download.py
      hash: md5
      md5: c00af872033b2af5f9817bf31e0244ee
      size: 3035
    params:
      params.yaml:
        download.base_url: https://www.ncei.noaa.gov/data/local-climatological-data/access/2023/
        download.html_filename: ncei_data.html
        download.n_locs: 2
        global.Year: 2023
        global.cols_filter:
        - MonthlyAverageRH
        - MonthlyDewpointTemperature
        - MonthlySeaLevelPressure
        - MonthlyStationPressure
        - MonthlyWetBulb
        global.dir_download: ncei_data
    outs:
    - path: ncei_data/
      hash: md5
      md5: d43d7e52a5bd85d4123a2cb3e720c5cd.dir
      size: 16178950
      nfiles: 2
  prepare:
    cmd: python prepare.py
    deps:
    - path: ncei_data
      hash: md5
      md5: d43d7e52a5bd85d4123a2cb3e720c5cd.dir
      size: 16178950
      nfiles: 2
    - path: prepare.py
      hash: md5
      md5: 589d3b213128e02434b1f2182f710ba0
      size: 1249
    params:
      params.yaml:
        global.Year: 2023
        global.cols_filter:
        - MonthlyAverageRH
        - MonthlyDewpointTemperature
        - MonthlySeaLevelPressure
        - MonthlyStationPressure
        - MonthlyWetBulb
        global.dir_download: ncei_data
        global.hourly_cols:
        - HourlyRelativeHumidity
        - HourlyDewPointTemperature
        - HourlySeaLevelPressure
        - HourlyStationPressure
        - HourlyWetBulbTemperature
        prepare.get_dir:
        - data
        - gt
    outs:
    - path: data/gt
      hash: md5
      md5: 9d2ed6c676983848f19319fab0222011.dir
      size: 433
      nfiles: 2
  process:
    cmd: python process.py
    deps:
    - path: ncei_data
      hash: md5
      md5: d43d7e52a5bd85d4123a2cb3e720c5cd.dir
      size: 16178950
      nfiles: 2
    - path: process.py
      hash: md5
      md5: c826b1aaf2d1e52e8e4a06afd8a3bdee
      size: 1929
    params:
      params.yaml:
        global.dir_download: ncei_data
        global.hourly_cols:
        - HourlyRelativeHumidity
        - HourlyDewPointTemperature
        - HourlySeaLevelPressure
        - HourlyStationPressure
        - HourlyWetBulbTemperature
        prepare.get_dir:
        - data
        - gt
        process.calc_dir:
        - data
        - calculated
    outs:
    - path: data/calculated
      hash: md5
      md5: 3166b48d2792ca7aafbcbca0275c74d9.dir
      size: 1076
      nfiles: 2
  evaluate:
    cmd: python evaluate.py
    deps:
    - path: data
      hash: md5
      md5: 02b94daa550a41e8800d417c3349595e.dir
      size: 1527
      nfiles: 5
    - path: evaluate.py
      hash: md5
      md5: d0c8987dd070e2d774912ad1d5126b7b
      size: 1315
    params:
      params.yaml:
        global.cols_filter:
        - MonthlyAverageRH
        - MonthlyDewpointTemperature
        - MonthlySeaLevelPressure
        - MonthlyStationPressure
        - MonthlyWetBulb
        prepare.get_dir:
        - data
        - gt
    outs:
    - path: R2results.csv
      hash: md5
      md5: 7d256cbefb0383ecf2867bd6812ae9fa
      size: 155
